<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.68.3"><meta name=description content="Documentation QWC2 and QWC services"><link rel="shortcut icon" href=/images/favicon.ico type=image/x-icon><title>Overview :: QWC2 Documentation</title><link href=/css/nucleus.css?1632388561 rel=stylesheet><link href=/css/fontawesome-all.min.css?1632388561 rel=stylesheet><link href=/css/hybrid.css?1632388561 rel=stylesheet><link href=/css/featherlight.min.css?1632388561 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1632388561 rel=stylesheet><link href=/css/auto-complete.css?1632388561 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1632388561 rel=stylesheet><link href=/css/theme.css?1632388561 rel=stylesheet><link href=/css/tabs.css?1632388561 rel=stylesheet><link href=/css/hugo-theme.css?1632388561 rel=stylesheet><link href=/css/theme-green.css?1632388561 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1632388561></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/overview/><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href><img src=/images/qwc-logo.png height=50></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1632388561></script><script type=text/javascript src=/js/auto-complete.js?1632388561></script><script type=text/javascript>var baseurl="https:\/\/qwc.sourcepole.com\/";</script><script type=text/javascript src=/js/search.js?1632388561></script></div><section id=homelinks><ul><li><a class=padding href=/><i class="fas fa-home"></i>Home</a></li></ul></section><div class=highlightable><ul class=topics><li data-nav-id=/overview/ title=Overview class="dd-item
parent
active"><a href=/overview/>Overview</a></li><li data-nav-id=/quick-start/ title="Quick Start" class=dd-item><a href=/quick-start/>Quick Start</a></li><li data-nav-id=/configuration/ title=Configuration class=dd-item><a href=/configuration/>Configuration</a></li><li data-nav-id=/viewer/ title="QGIS Web Client 2" class=dd-item><a href=/viewer/>Viewer</a></li><li data-nav-id=/services/ title=Services class=dd-item><a href=/services/>Services</a><ul><li data-nav-id=/services/qwc-map-viewer/ title="QWC Map Viewer Service" class=dd-item><a href=/services/qwc-map-viewer/>qwc-map-viewer</a></li><li data-nav-id=/services/qwc-ogc-service/ title="QWC OGC Service" class=dd-item><a href=/services/qwc-ogc-service/>qwc-ogc-service</a></li><li data-nav-id=/services/qwc-feature-info-service/ title="QWC FeatureInfo Service" class=dd-item><a href=/services/qwc-feature-info-service/>qwc-feature-info-service</a></li><li data-nav-id=/services/qwc-fulltext-search-service/ title="QWC Fulltext Search Service" class=dd-item><a href=/services/qwc-fulltext-search-service/>qwc-fulltext-search-service</a></li><li data-nav-id=/services/qwc-legend-service/ title="QWC Legend Service" class=dd-item><a href=/services/qwc-legend-service/>qwc-legend-service</a></li><li data-nav-id=/services/qwc-permalink-service/ title="QWC Permalink Service" class=dd-item><a href=/services/qwc-permalink-service/>qwc-permalink-service</a></li><li data-nav-id=/services/qwc-print-service/ title="QWC Print service" class=dd-item><a href=/services/qwc-print-service/>qwc-print-service</a></li><li data-nav-id=/services/qwc-mapinfo-service/ title="QWC MapInfo Service" class=dd-item><a href=/services/qwc-mapinfo-service/>qwc-mapinfo-service</a></li><li data-nav-id=/services/qwc-data-service/ title="QWC Data Service" class=dd-item><a href=/services/qwc-data-service/>qwc-data-service</a></li><li data-nav-id=/services/qwc-document-service/ title="Document service" class=dd-item><a href=/services/qwc-document-service/>qwc-document-service</a></li><li data-nav-id=/services/qwc-elevation-service/ title="QWC Elevation Service" class=dd-item><a href=/services/qwc-elevation-service/>qwc-elevation-service</a></li><li data-nav-id=/services/qwc-admin-gui/ title="QWC Admin GUI" class=dd-item><a href=/services/qwc-admin-gui/>qwc-admin-gui</a></li><li data-nav-id=/services/qwc-registration-gui/ title="Registration GUI" class=dd-item><a href=/services/qwc-registration-gui/>qwc-registration-gui</a></li><li data-nav-id=/services/qwc-config-generator/ title="QWC Config Generator" class=dd-item><a href=/services/qwc-config-generator/>qwc-config-generator</a></li></ul></li><li data-nav-id=/authentication/ title=Authentication class=dd-item><a href=/authentication/>Authentication</a><ul><li data-nav-id=/authentication/qwc-db-auth/ title="DB Authentication Service" class=dd-item><a href=/authentication/qwc-db-auth/>qwc-db-auth</a></li><li data-nav-id=/authentication/qwc-ldap-auth/ title="LDAP Authentication Service" class=dd-item><a href=/authentication/qwc-ldap-auth/>qwc-ldap-auth</a></li></ul></li></ul><section id=footer></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=top-github-link><a class=github-link title="Edit this page" href=https://github.com/qwc-services/qwc-website/edit/main/content/overview/_index.en.md target=blank><i class="fas fa-code-branch"></i><span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=/>QWC2 / QWC Services</a> > Overview</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li><a href=#user--and-access-control-managment>User- and access control managment</a></li><li><a href=#rest-api>REST API</a></li><li><a href=#search>Search</a></li><li><a href=#information-query>Information query</a></li><li><a href=#measuring-tools>Measuring tools</a></li><li><a href=#printing>Printing</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Overview</h1><p>The QWC Services are a collection of microservices providing configurations for and authorized access to different QWC Map Viewer components.</p><p><img src=/images/qwc-services-arch.png alt=qwc-services-arch></p><p>A QWC services SDI has the following main components:</p><ul><li><strong>Auth-Service</strong>: Authentication service. Currently supported: User DB, LDAP/AD, SAML or Kerberos.</li><li><strong>Map Viewer</strong>: QWC2 Webclient with configered tools, open and protected maps.</li><li><strong>OGC Service</strong>: Frontend with access control for WMS and WFS.</li><li><strong>REST Services</strong>: Services providing an API for Search, Mapinfo, etc.</li><li><strong>QGIS Server</strong>: Server for map rendering (WMS) and WFS publication.</li><li><strong>Solr</strong>: Apache Solr fulltext search engine. Backend for geodata and metadata search.</li><li><strong>Reporting Server</strong>: Jasper Reporting server.</li><li><strong>Admin GUI</strong>: Administration UI for managing users, permissions, etc.</li></ul><h3 id=user--and-access-control-managment>User- and access control managment</h3><p>For authentication the following services are currently provided:</p><ul><li>qwc-db-auth: Integrated User-DB</li><li>qwc-ldap-auth: LDAP / Active Directory</li><li>qwc-saml-auth: SAML 2.0</li><li>qwc-kerberos-auth: Kerberos</li></ul><p>The config/user DB is used in all authentication methods for managing permissions.</p><p>After successful identification, all authentcation services issue a JWT
token which is forwarded to other services either as session cookie or via
HTTP header.
The JWT token contains username and roles of the authenticated user. Services
requring authentication use a common library for reading the JWT content
and checking the cryptographic signature.</p><p>Authorization is managed by each service. Services like QGIS server, which
don&rsquo;t have built-in permission control, are protected by frontend services
like &ldquo;Â«qwc-ogc-service&rdquo;.</p><p><strong>Groups and roles</strong></p><p>Different permissions (e.g. read or write) for accessing resources can
be granted to &ldquo;roles&rdquo;. Roles are associated with users or user groups.
A user can be member of multiple groups and can also have multiple direct roles.</p><p><img src=/images/100002010000019100000075E735E86EF7DB022F.png alt></p><p>If an authentication service returns group information from an IDP, group
permissions can be directly used, without registering individual users.</p><h3 id=rest-api>REST API</h3><p>qwc-services communinicate via REST APIs, which are documented according to
the OpenAPI specification.</p><p><img src=/images/swagger.jpg alt="Illustration 2: OpenAPI Dokumentation DataService"></p><h3 id=search>Search</h3><p>Apache Solr (<a href=https://solr.apache.org/>https://solr.apache.org/</a>) is used as integrated search engine.
The fulltext search engine with faceted search capabilities is available
with an Apache license and is used by internet search engines like
DuckDuckGo.</p><p>Search categories (&ldquo;facets&rdquo;) can be configured as globally available for
maps or dependent on active layers only. An assigned &ldquo;filterword&rdquo; can be
used as shortcut for limiting searches on a category.</p><p><img src=/images/search.png alt></p><p>Grouping and sorting of search results is dependent on the result count
per category. If many results are available, an additional section
for search refining is showed in the results. There is also a history
of recent searches.</p><h3 id=information-query>Information query</h3><p>Map info queries are handled by the qwc-feature-info-service providing
an WMS GetFeatureInfo API.</p><p>The following info query types can be configured for each layer::</p><ul><li>WMS feature info query (default): Forwarded to QGIS Server</li><li>DB Query: Execution of a user-defined SQL query</li><li>Custom Info module: Specific Python module for returning layer information</li></ul><p>Result data of the query module is rendered with the Jinja template engine (with
customizable HTML templates) and returned to the web client as GetFeatureInfoResponse.</p><p><img src=/images/feature-info.png alt></p><h3 id=measuring-tools>Measuring tools</h3><p>Tools for position, distance, area and heading measurements are provided. Units are
user selecteable.</p><p>The qwc-elevation-service returns height profiles for distance measurements. The
mouse position in the height profile is marked in the map and shows a distance
height measurement.</p><p><img src=/images/measure.png alt>.</p><h3 id=printing>Printing</h3><p>Printing layouts included in QGIS projects can be used for printing.
Users can select permitted layouts in the print dialog. System provided information
like print date, scale bar, coordinate systems, north arraw and scale can
be used in the priint layout.</p><p>User editable text fields like map title or remarks can be provided as well.</p><footer class=footline></footer></div></div><div id=navigation></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1632388561></script><script src=/js/perfect-scrollbar.min.js?1632388561></script><script src=/js/perfect-scrollbar.jquery.min.js?1632388561></script><script src=/js/jquery.sticky.js?1632388561></script><script src=/js/featherlight.min.js?1632388561></script><script src=/js/highlight.pack.js?1632388561></script><script>hljs.initHighlightingOnLoad();</script><script src=/js/modernizr.custom-3.6.0.js?1632388561></script><script src=/js/learn.js?1632388561></script><script src=/js/hugo-learn.js?1632388561></script></body></html>